第6天作业

作业：

       用户 登录, 注册, 修改, 删除，优化

1.项目分析：

      *首页: 
	         *首页
	  
	  *登录：
	  
	         *登录页面，输入用户名密码，用户名密码输入正确，登录成功，返回用户列表页面，
	         *登录失败，提示用户名或者密码错误
			 
	  *用户信息:
	          
	         *查询所有用户信息,以列表的形式返回,渲染展示在html 页面			  
			 
	  *注册: 
	  
	         *点击首页,注册，超链接,进入注册页面
	         *如果用户不存在,则输入用户名密码重新输入密码,注册成功，调转登录界面
	         *如果用户输入用户已经存在，返回用户已经存在信息
			 
      *修改: 
	  
	         *修改用户密码，点击，修改按钮,跳转修改密码页面
	         *获取用户id,,用户输入新密码进行密码更新，点击返回用户列表

			 
	  *删除: 
	          *删除用户，点击删除按钮,删除用户信息，并返回到用户列表
	  
2.模块分析:

      1).注册：	  
	  
             *函数名称register()
             *判断用户输入用户名密码是否为空，如果为空返回错误信息
             *获取用户信息check_user()函数,判断该用户是否存在,如果用户存在，则返回，用户已存在信息
	         *调用insert_sql()注册该用户信息至数据库
	         
      2).登录:  
	  
	         *函数名称login()
	         *获取用户POST提交,数据
	         *判断用户输入用户名密码是否为空，如果为空返回错误信息
	         *调用user_authentication()函数，如果,用户名密码匹配,则返回用户信息列表,
	         *否则,返回错误信息,用户名密码不匹配.
	         *用户角色判断调用check_role()，如果是管理员可查看所有用户信息，普通用户只能查看自己的信息
	      
	 
      3).用户信息:
	  
               *函数名称 msg_userlist()
	           *调用user_list()函数查询数据库，获取全部用户信息
	           *返回一个列表，html 渲染循环出数据，在表格里面展示
  	 

	 
	  4).修改:     
	  
               *函数名称msg_update()
               *用户信息页面，点击,修改,向后端msg_update()函数传递用户id,及用户信息，并返回update页面
               *获取用户输入的新数据，调用update()函数写入数据，返回用户列表
			   
	        
	 
	 5).删除:
	 
               *函数名称 msg_delete()
               *用户信息页面，点击删除按钮,向后端msg_delete() get 传递用户id
               *函数获取到id，调用delete()函数执行删除操作
	 
<center>3.流程图</center > 

![image](https://github.com/1032231418/python/blob/master/day6/liucheng.png)

<center>4.目录结构</center > 

![image](https://github.com/1032231418/python/blob/master/day6/mulu.png)




